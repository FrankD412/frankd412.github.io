<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>How to Setup Statically Built GitHub Pages &#8211; Francesco Di Natale</title> <meta name="description" content="Software Engineer. Computer Scientist. Idealist."> <meta name="keywords" content="web dev, how-to, technical, jekyll, blog"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://frankd412.github.io/assets/img/77406768_10156367004537811_5909955547112669184_o.jpg"> <meta name="twitter:title" content="How to Setup Statically Built GitHub Pages"> <meta name="twitter:description" content="After struggling with trying to figure out static builds with various guides, I found out just how simple it was to release a staticly built jekyll site. Here’s a how to on how to do it with your own personal github.io webpage."> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="How to Setup Statically Built GitHub Pages"> <meta property="og:description" content="After struggling with trying to figure out static builds with various guides, I found out just how simple it was to release a staticly built jekyll site. Here’s a how to on how to do it with your own personal github.io webpage."> <meta property="og:url" content="https://frankd412.github.io/posts/static-sites/"> <meta property="og:site_name" content="Francesco Di Natale"> <meta property="og:image" content="https://frankd412.github.io/assets/img/77406768_10156367004537811_5909955547112669184_o.jpg"> <link rel="canonical" href="https://frankd412.github.io/posts/static-sites/"> <link href="https://frankd412.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Francesco Di Natale Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="https://frankd412.github.io/assets/css/main.css"> <!-- JS --> <script src="https://frankd412.github.io/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="https://frankd412.github.io/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="https://frankd412.github.io/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="https://frankd412.github.io/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="https://frankd412.github.io/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="https://frankd412.github.io/favicon.png" /> <link rel="shortcut icon" href="https://frankd412.github.io/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(https://frankd412.github.io/assets/img/background_test.png); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> <style type="text/css">.feature {background-image:url(https://frankd412.github.io/assets/img/post_banner_test.png);}</style> <link type="application/atom+xml" rel="alternate" href="https://frankd412.github.io/feed.xml" title="Francesco Di Natale" /> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="https://frankd412.github.io/">Home</a></li> <li><a href="https://frankd412.github.io/about/">About</a></li> <li><a href="https://frankd412.github.io/posts/">Posts</a></li> <li><a href="https://frankd412.github.io/projects/" >Projects</a></li> <li><a href="https://frankd412.github.io/experience/" >Experience</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title feature"> <h1>How to Setup Statically Built GitHub Pages</h1> <h4>01 Jul 2019</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~6 minutes </p><!-- /.entry-reading-time --> </div> <div class="breadcrumbs breadcrumb-feature"> <hr /> <a href="https://frankd412.github.io/"><i class="fa fa-home breadcrumb-feature"></i></a> <span class="prompt"> > </span> <a href="https://frankd412.github.io/posts">Posts</a> <span class="prompt"> > </span> <span>How to Setup Statically Built GitHub Pages</span> <hr/> </div> <p>So, this how-to is mostly just an impromptu post so that it’s documented for anyone else struggling to get a statically built Jekyll webpage running on their own person github.io site. My woes all started when trying to get the <code class="highlighter-rouge">jekyll-scholar</code> gem working on my personal webpage (this very one that you’re on in fact). In this post, I’ll take you through some of the basic things that I have set up having gone down this rabbit hole and investigated a few dead ends with a moderate amount of Google searching.</p> <p>As it turns out, there is actually quite a set of gems that GitHub doesn’t trust which makes it harder to do anything fancy if it requires an install they don’t like. In my debugging efforts I was spammed with emails as I kept pushing commits trying to fix the error. I swear that it’s come across my inbox enough that it’ll give me nightmares for a while. For those curious, the error in question:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The tag `bibliography` on line 26 in `projects/_posts/2019-05-09-maestro-workflow-conductor.md` is not a recognized Liquid tag.
</code></pre></div></div> <p><br /></p> <h2 id="set-up-local-building-and-deploying">Set up local building and deploying</h2> <p>Setting up local deployment is going to be the first step to getting this all to work, but it’s also beneficial because it means you can test your website without having to constantly commit to your repository and wait for GitHub to build your webpage for you. Taking the commits out of the loop really speeds up your ability to try new things, catch errors ahead of time, and makes the whole website development thing less clumsy. And let’s be honest: it saves you the embarrassment of having deployed a broken website, because once that’s on the internet it’s there forever.</p> <aside class="notice"> Note: I will caveat this section with the fact that I've only ever gotten this to work in a Unix environment. I develop on a MacBook, but see no reason why these steps shouldn't work on a Linux VM. That said, I did attempt to get a Docker container for building and local testing running and found it miserably difficult to do so, which means this guide won't work on Windows. I'll be sure to make another blog post if I manage to figure that one out. </aside> <p>So, what do you need to do to get set up? First things first, you’re going to need to install <code class="highlighter-rouge">ruby</code>. For me, that was as simple as <code class="highlighter-rouge">brew install ruby</code> and a simple .zshrc file update. If you’re on any modern distro of Linux/Unix (or even an older one), you can most likely run <code class="highlighter-rouge">apt-get install ruby</code> or <code class="highlighter-rouge">npm install ruby</code>. With that installation you will now have access to <code class="highlighter-rouge">gems</code>, which is really what we want out of all of this (don’t worry, you won’t be coding in ruby). Once that’s done, you’ll want to run the following commands. The output should look similar to the following:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; gem install bundler
&gt; bundle update --bundler
Fetching bundler-2.0.1.gem
bundler's executable "bundle" conflicts with /usr/local/lib/ruby/gems/2.6.0/bin/bundle
Overwrite the executable? [yN]  y
bundler's executable "bundler" conflicts with /usr/local/lib/ruby/gems/2.6.0/bin/bundler
Overwrite the executable? [yN]  y
Successfully installed bundler-2.0.1
Parsing documentation for bundler-2.0.1
Installing ri documentation for bundler-2.0.1
Done installing documentation for bundler after 2 seconds
1 gem installed
</code></pre></div></div> <p><br /></p> <p>Once <code class="highlighter-rouge">bundler</code> is installed, run <code class="highlighter-rouge">bundle update --bundler</code>. You should see a bunch of dependencies installed one after another over a few minutes.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; bundle update --bundler
Fetching gem metadata from https://rubygems.org/..............
Fetching concurrent-ruby 1.1.5
Installing concurrent-ruby 1.1.5
Fetching i18n 0.9.5
Installing i18n 0.9.5
Using minitest 5.11.3
Fetching thread_safe 0.3.6
…
Installing jekyll-scholar 5.14.1
Fetching jekyll-sitemap 1.3.1
Installing jekyll-sitemap 1.3.1
Bundle updated!
Post-install message from html-pipeline:
-------------------------------------------------
Thank you for installing html-pipeline!
You must bundle Filter gem dependencies.
See html-pipeline README.md for more details.
https://github.com/jch/html-pipeline#dependencies
-------------------------------------------------
Post-install message from sass:

Ruby Sass has reached end-of-life and should no longer be used.

* If you use Sass as a command-line tool, we recommend using Dart Sass, the new
  primary implementation: https://sass-lang.com/install

* If you use Sass as a plug-in for a Ruby web framework, we recommend using the
  sassc gem: https://github.com/sass/sassc-ruby#readme

* For more details, please refer to the Sass blog:
  https://sass-lang.com/blog/posts/7828841
</code></pre></div></div> <p><br /></p> <h2 id="starting-your-local-jekyll-server">Starting your local Jekyll server</h2> <p>It looks like Ruby Sass is EOL’ed, but it does work for now and renders the site just fine. Now that you have <code class="highlighter-rouge">bundler</code> installed, let’s start a local server. Starting a local server is as simple as the following, just change directory into the root of your website and run the following:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; bundle exec jekyll serve --incremental
Configuration file: /Users/frank/Documents/Code/Website/frankd412.github.io/_config.yml
            Source: /Users/frank/Documents/Code/Website/frankd412.github.io
       Destination: /Users/frank/Documents/Code/Website/frankd412.github.io/_site
 Incremental build: enabled
      Generating...
       Jekyll Feed: Generating feed for posts
                    done in 1.708 seconds.
 Auto-regeneration: enabled for '/Users/frank/Documents/Code/Website/frankd412.github.io'
    Server address: http://127.0.0.1:4000
  Server running... press ctrl-c to stop.
</code></pre></div></div> <p>The <code class="highlighter-rouge">--incremental</code> flag continues to monitor changes to the repository, rebuilding the repository on the fly as you change files. You can also build the website without serving it locally by running <code class="highlighter-rouge">bundle exec jekyll build</code>. Adding new pages or posts usually requires a rebuild, which <code class="highlighter-rouge">serve</code> does not handle.</p> <p><br /></p> <h2 id="deploying-your-github-page-statically">Deploying your GitHub Page Statically</h2> <p>Alright, so now you know how to both serve and build your site locally. Most of the way there! So, now you want to deploy your static website. If you’re using a github.io site (as I am), you’re already familiar with the fact that the master branch is the <em>only</em> branch that gets deployed. That functionality seems to be baked into GitHub’s deployment, with no way to change it. Okay, cool. So that means we have to reserve master for our built site. If you’ve already got a repository start, you simply just make a new branch based on your current master (otherwise, just start a new branch from the start). I called mine “src”, as it’s the source to my site. Otherwise, make sure to change the default branch to src on GitHub.</p> <p>Now, if you have a <code class="highlighter-rouge">.gitignore</code> file in your repository, make sure that the build directory is not in it. You’re going to want to check that folder in, so to make life easier just don’t ignore it. Otherwise, we’re going to treat master as a subtree so that we simply push our site contents to it. So now, in order to deploy, simply run the following:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; git checkout src
Switched to branch 'src'
Your branch is up to date with 'origin/src'.
&gt; bundle exec jekyll build
Configuration file: /Users/frank/Documents/Code/Website/frankd412.github.io/_config.yml
            Source: /Users/frank/Documents/Code/Website/frankd412.github.io
       Destination: /Users/frank/Documents/Code/Website/frankd412.github.io/_site
 Incremental build: disabled. Enable with --incremental
      Generating...
       Jekyll Feed: Generating feed for posts
                    done in 1.715 seconds.
 Auto-regeneration: disabled. Use --watch to enable.
 &gt; git subtree push --prefix _site origin master
</code></pre></div></div> <aside class="notice"> The folder `_site` above is where my build places my compiled website. Your website may be configured differently, so make sure to correct the name of the folder for your own naming. <br /> <br /> <strong>IMPORTANT</strong>: You MUST rebuild your site using `bundle exec jekyll build` and commit the compiled site folder to your src branch. If you've been testing locally, rebuilding gets rid of any `localhost` references in the statically compiled pages. You must also commit for git to be able to refer to the node in the `src` branch when mapping a subtree. </aside> <p>And that should do it. You now commit code to the src branch and push a subtree to master when you’re ready to publish. It’s as simple as that. <br /></p> <h2 id="resources">Resources</h2> <p><a href="https://jekyllrb.com/docs/troubleshooting/">Jekyll Troubleshooting</a><br /> <a href="https://pages.github.com/">GitHub Pages</a></p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="https://frankd412.github.io/tags/#web dev" title="Pages tagged web dev" class="tag"><span class="term">web dev</span></a><a href="https://frankd412.github.io/tags/#how-to" title="Pages tagged how-to" class="tag"><span class="term">how-to</span></a><a href="https://frankd412.github.io/tags/#technical" title="Pages tagged technical" class="tag"><span class="term">technical</span></a><a href="https://frankd412.github.io/tags/#jekyll" title="Pages tagged jekyll" class="tag"><span class="term">jekyll</span></a><a href="https://frankd412.github.io/tags/#blog" title="Pages tagged blog" class="tag"><span class="term">blog</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://frankd412.github.io/posts/static-sites/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=https://frankd412.github.io/posts/static-sites/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <div class="copyright"><i>Copyright © 2019 - 2021 Francesco Di Natale</i></div> </header> <!-- JS --> <script src="https://frankd412.github.io/assets/js/jquery-1.12.0.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.dlmenu.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.goup.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.magnific-popup.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.fitvid.min.js"></script> <script src="https://frankd412.github.io/assets/js/scripts.js"></script> <script src="https://frankd412.github.io/assets/js/collapse.js"></script> <!-- Place this tag in your head or just before your close body tag. --> <script async defer src="https://buttons.github.io/buttons.js"></script> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134990036-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-134990036-1'); </script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
