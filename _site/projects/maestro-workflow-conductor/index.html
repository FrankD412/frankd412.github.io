<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>Maestro Workflow Conductor (maestrowf) &#8211; Francesco Di Natale</title> <meta name="description" content="Software Engineer. Computer Scientist. Nerd."> <meta name="keywords" content="python, simulations, hpc, scientific computing, software workflow, open source"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://frankd412.github.io/assets/img/profilepic.jpg"> <meta name="twitter:title" content="Maestro Workflow Conductor (maestrowf)"> <meta name="twitter:description" content="A Python command line tool and library for specifying, automating, and monitoring HPC software workflows. Orchestra your workflows with ease."> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Maestro Workflow Conductor (maestrowf)"> <meta property="og:description" content="A Python command line tool and library for specifying, automating, and monitoring HPC software workflows. Orchestra your workflows with ease."> <meta property="og:url" content="https://frankd412.github.io/projects/maestro-workflow-conductor/"> <meta property="og:site_name" content="Francesco Di Natale"> <meta property="og:image" content="https://frankd412.github.io/assets/img/profilepic.jpg"> <link rel="canonical" href="https://frankd412.github.io/projects/maestro-workflow-conductor/"> <link href="https://frankd412.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Francesco Di Natale Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="https://frankd412.github.io/assets/css/main.css"> <!-- JS --> <script src="https://frankd412.github.io/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="https://frankd412.github.io/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="https://frankd412.github.io/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="https://frankd412.github.io/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="https://frankd412.github.io/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="https://frankd412.github.io/favicon.png" /> <link rel="shortcut icon" href="https://frankd412.github.io/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(https://frankd412.github.io/assets/img/background_test.png); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> <style type="text/css">.feature {background-image:url(https://frankd412.github.io/assets/img/post_banner_test.png);}</style> <link type="application/atom+xml" rel="alternate" href="https://frankd412.github.io/feed.xml" title="Francesco Di Natale" /> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="https://frankd412.github.io/">Home</a></li> <li><a href="https://frankd412.github.io/about/">About</a></li> <li><a href="https://frankd412.github.io/posts/">Posts</a></li> <li><a href="https://frankd412.github.io/projects/" >Projects</a></li> <li><a href="https://frankd412.github.io/experience/" >Experience</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title feature"> <h1>Maestro Workflow Conductor (maestrowf)</h1> <h4>11 May 2019</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~3 minutes </p><!-- /.entry-reading-time --> </div> <div class="breadcrumbs breadcrumb-feature"> <hr /> <a href="https://frankd412.github.io/"><i class="fa fa-home breadcrumb-feature"></i></a> <span class="prompt"> > </span> <a href="https://frankd412.github.io/projects">Projects</a> <span class="prompt"> > </span> <span>Maestro Workflow Conductor (maestrowf)</span> <hr/> </div> <p style="text-align: center;"> <!-- Place this tag where you want the button to render. --> <a class="github-button" href="https://github.com/LLNL/maestrowf" data-size="large" data-show-count="true" aria-label="Star LLNL/maestrowf on GitHub">Star</a> <!-- Place this tag where you want the button to render. --> <a class="github-button" href="https://github.com/LLNL/maestrowf/subscription" data-size="large" data-show-count="true" aria-label="Watch LLNL/maestrowf on GitHub">Watch</a> <!-- Place this tag where you want the button to render. --> <a class="github-button" href="https://github.com/LLNL/maestrowf/issues" data-size="large" data-show-count="true" aria-label="Issue LLNL/maestrowf on GitHub">Issue</a> <!-- Place this tag where you want the button to render. --> <a class="github-button" href="https://github.com/LLNL/maestrowf/fork" data-size="large" data-show-count="true" aria-label="Fork LLNL/maestrowf on GitHub">Fork</a> </p> <h2 id="overview">Overview</h2> <h3 id="what-is-maestro">What is Maestro?</h3> <p>Maestro is a Python library and command line tool for automating and monitoring software workflows that I authored at <a href="https://software.llnl.gov/repo/#/LLNL/maestrowf">LLNL</a>. The main concept centers around conducting “studies” using independent workflow steps that are chained together by user specified execution-order dependency. A study is defined in a YAML file that Maestro denotes as a “study specification”. A specification can be user written or programmatically generated. Maestro parses the a study specification, generating standard data structures for setting up, executing, and monitoring a study.</p> <h3 id="why-did-you-create-maestro">Why did you create Maestro?</h3> <p>I created Maestro because of my experiences running simulation workflows and the general trend of ignoring automation. In my experience, automation and infrastructure are often viewed as efforts that are lesser priority to accomplishing critical path milestones. In response, I wanted to design a lightweight tool that could be used to quickly stand up automated software workflows but that also accomplished a few other important properties:</p> <ol> <li>encourage users to think about workflows as standalone steps with intent and purpose.</li> <li>encourage users to better document their workflows.</li> <li>make user workflows easier to share and communicate.</li> <li>make workflows easier to parameterize and manage.</li> </ol> <h3 id="what-features-does-maestro-have">What features does Maestro have?</h3> <p>Maestro has a large set of features that help to make running software workflows easier:</p> <ul> <li>Workspace set up and management. <ul> <li>Initial workspace set up and basic study metadata generation.</li> <li>Automatic study workspace timestamping.</li> <li>Automatic step workspace generation before execution.</li> </ul> </li> </ul> <h3 id="what-does-a-study-specification-look-like">What does a study specification look like?</h3> <p>A basic single step “hello world” example looks as follows:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">description</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">hello_world</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s">A simple 'Hello World' study.</span>
<span class="na">env</span><span class="pi">:</span>
    <span class="na">variables</span><span class="pi">:</span>
        <span class="na">OUTPUT_PATH</span><span class="pi">:</span> <span class="s">./sample_output/hello_world</span>
<span class="na">study</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hello_world</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Say hello to the world!</span>
      <span class="na">run</span><span class="pi">:</span>
          <span class="na">cmd</span><span class="pi">:</span> <span class="pi">|</span>
            <span class="s">echo "Hello, World!" &gt; hello_world.txt</span>
</code></pre></div></div> <p>You can easily chain steps together by specifying dependencies. If you wanted to say “bye” after saying “hello”:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">description</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">hello_bye</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s">A simple 'Hello World' study.</span>
<span class="na">env</span><span class="pi">:</span>
    <span class="na">variables</span><span class="pi">:</span>
        <span class="na">OUTPUT_PATH</span><span class="pi">:</span> <span class="s">./sample_output/hello_world</span>
    <span class="na">labels</span><span class="pi">:</span>
        <span class="na">OUT_FORMAT</span><span class="pi">:</span> <span class="s">$(GREETING)_$(NAME).txt</span>
<span class="na">study</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hello_world</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Say hello to someone!</span>
      <span class="na">run</span><span class="pi">:</span>
          <span class="na">cmd</span><span class="pi">:</span> <span class="pi">|</span>
            <span class="s">echo "Hello, World!" &gt; hello_world.txt</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">bye_world</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Say bye to someone!</span>
      <span class="na">run</span><span class="pi">:</span>
          <span class="na">cmd</span><span class="pi">:</span> <span class="pi">|</span>
            <span class="s">echo "Bye, World!" &gt; bye_world.txt</span>
          <span class="na">depends</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">hello_world</span><span class="pi">]</span>
</code></pre></div></div> <h2 id="core-design-principles">Core Design Principles</h2> <p>When performing scientific software workflows, there are a few desirable properties that are essential to consider. Maestro focuses on the following:</p> <ul> <li><strong>Repeatability</strong>. Consistently repeating a workflow is the first step to reproducing it.</li> <li><strong>Extendibility</strong>. Workflows should be modular, allowing workflows to be extensible, testable, and robust.</li> <li><strong>Documentation</strong>. Good documentation provides an opportunity for the user to step back and explain to themselves what they’re doing.</li> <li><strong>Shareability</strong>. A workflow should be easy given to other users with minimal coupling to any one user’s environment.</li> </ul> <h2 id="citations">Citations</h2> <ul class="bibliography"><li><span id="MuMMI">Di Natale, F., Bhatia, H., Carpenter, T. S., Neale, C., Schumacher, S. K., Oppelstrup, T., … Ingólfsson, H. I. (2019). A Massively Parallel Infrastructure for Adaptive Multiscale Simulations: Modeling RAS Initiation Pathway for Cancer. In <i>To appear in Supercomputing ’19: The International Conference for High Performance Computing</i>. https://doi.org/10.1145/1122445.1122456</span></li> <li><span id="ahn2018flux">Ahn, D. H., Bass, N., Chu, A., Garlick, J., Grondona, M., Herbein, S., … others. (2018). Flux: Overcoming Scheduling Challenges for Exascale Workflows. In <i>2018 IEEE/ACM Workflows in Support of Large-Scale Science (WORKS)</i> (pp. 10–19). IEEE.</span></li> <li><span id="carpenter2018capturing">Carpenter, T. S., López, C. A., Neale, C., Montour, C., Ingólfsson, H. I., Di Natale, F., … Gnanakaran, S. (2018). Capturing Phase Behavior of Ternary Lipid Mixtures with a Refined Martini Coarse-Grained Force Field. <i>Journal of Chemical Theory and Computation</i>, <i>14</i>(11), 6050–6062.</span></li></ul> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="https://frankd412.github.io/tags/#python" title="Pages tagged python" class="tag"><span class="term">python</span></a><a href="https://frankd412.github.io/tags/#simulations" title="Pages tagged simulations" class="tag"><span class="term">simulations</span></a><a href="https://frankd412.github.io/tags/#hpc" title="Pages tagged hpc" class="tag"><span class="term">hpc</span></a><a href="https://frankd412.github.io/tags/#scientific computing" title="Pages tagged scientific computing" class="tag"><span class="term">scientific computing</span></a><a href="https://frankd412.github.io/tags/#software workflow" title="Pages tagged software workflow" class="tag"><span class="term">software workflow</span></a><a href="https://frankd412.github.io/tags/#open source" title="Pages tagged open source" class="tag"><span class="term">open source</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://frankd412.github.io/projects/maestro-workflow-conductor/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=https://frankd412.github.io/projects/maestro-workflow-conductor/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <div class="copyright"><i>Copyright © 2019 Francesco Di Natale</i></div> </header> <!-- JS --> <script src="https://frankd412.github.io/assets/js/jquery-1.12.0.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.dlmenu.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.goup.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.magnific-popup.min.js"></script> <script src="https://frankd412.github.io/assets/js/jquery.fitvid.min.js"></script> <script src="https://frankd412.github.io/assets/js/scripts.js"></script> <!-- Place this tag in your head or just before your close body tag. --> <script async defer src="https://buttons.github.io/buttons.js"></script> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134990036-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-134990036-1'); </script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
